(()=>{var he=Object.create;var g=Object.defineProperty;var be=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var xe=Object.getPrototypeOf,we=Object.prototype.hasOwnProperty;var Ne=(e,t,r)=>t in e?g(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var s=(e,t)=>()=>(e&&(t=e(e=0)),t);var u=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var D=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let f of ye(t))!we.call(e,f)&&f!==r&&g(e,f,{get:()=>t[f],enumerable:!(a=be(t,f))||a.enumerable});return e};var c=(e,t,r)=>(r=e!=null?he(xe(e)):{},D(t||!e||!e.__esModule?g(r,"default",{value:e,enumerable:!0}):r,e)),ve=e=>D(g({},"__esModule",{value:!0}),e);var y=(e,t,r)=>Ne(e,typeof t!="symbol"?t+"":t,r);function o(e){return(...t)=>{if(window["@Neos:HostPluginAPI"]&&window["@Neos:HostPluginAPI"][`@${e}`])return window["@Neos:HostPluginAPI"][`@${e}`](...t);throw new Error("You are trying to read from a consumer api that hasn't been initialized yet!")}}var d=s(()=>{});var h=u((je,W)=>{d();W.exports=o("vendor")().React});var _=u((Ee,O)=>{d();O.exports=o("vendor")().reactRedux});var L=u((He,k)=>{d();k.exports=o("vendor")().PropTypes});var F=u((Ke,j)=>{d();j.exports=o("NeosProjectPackages")().NeosUiDecorators});var R=u((Be,E)=>{d();E.exports=o("NeosProjectPackages")().NeosUiReduxStore});var x=u((Te,H)=>{d();H.exports=o("NeosProjectPackages")().NeosUiI18n});var w=u((Qe,U)=>{d();U.exports=o("NeosProjectPackages")().ReactUiComponents});var m,K=s(()=>{m={widget:"a",header:"i",body:"n",label:"o",subtitle:"e"}});var p,V,Ce,B,M=s(()=>{p=c(h()),V=c(x());K();Ce=({label:e,subtitle:t,children:r,showHeader:a})=>p.default.createElement("div",{className:m.widget},a&&p.default.createElement("div",{className:m.header},p.default.createElement("div",{className:m.label},p.default.createElement(V.default,{id:e})),t&&p.default.createElement("div",{className:m.subtitle},t)),p.default.createElement("div",{className:m.body},r)),B=p.default.memo(Ce)});var N,Q,q=s(()=>{N="l",Q="t"});var z,P,G,$=s(()=>{z="r",P="g",G="s"});var l,C,Ie,Y,J=s(()=>{l=c(h()),C=c(w());$();Ie=({entry:e})=>l.default.createElement("div",{className:z},l.default.createElement("span",null,e.link?l.default.createElement("a",{href:e.link,target:"_blank",rel:"noreferrer",title:e.reference},l.default.createElement(C.Icon,{className:P,icon:e.icon}),e.reference):l.default.createElement("span",null,l.default.createElement(C.Icon,{className:P,icon:e.icon}),e.reference),e.count>1?` (${e.count}x)`:""),l.default.createElement("ol",{className:G},e.breadcrumb.map((t,r)=>l.default.createElement("li",{key:r},t)))),Y=l.default.memo(Ie)});var n,X,i,Z,S,ee,A,b,De,te,re=s(()=>{n=c(h()),X=c(_()),i=c(L()),Z=c(F()),S=c(R()),ee=c(x()),A=c(w());M();q();J();b=class extends n.PureComponent{constructor(){super(...arguments);y(this,"state",{data:null,error:!1,info:null})}componentDidMount(){this.fetchData()}componentDidUpdate(r){r.focusedNodeContextPath!==this.props.focusedNodeContextPath&&this.fetchData()}fetchData(){let r=Object.assign({node:this.props.focusedNodeContextPath},this.props.options.arguments);this.props.dataSourcesDataLoader.resolveValue({contextNodePath:this.props.focusedNodeContextPath,dataSourceIdentifier:this.props.options.dataSource,dataSourceUri:this.props.options.dataSourceUri,dataSourceAdditionalData:r}).then(a=>{switch(console.log({response:a}),!0){case!!a.error:this.setState({data:null,error:a.error,info:null});break;case!!a.info:this.setState({data:null,error:!1,info:a.info});break;case!!a.data:this.setState({data:a.data,error:!1,info:null});break;default:this.setState({data:null,error:new Error("Unknown datasource fetch error"),info:null});break}})}render(){let{data:r,error:a,info:f}=this.state;if(a)return n.default.createElement("div",null,n.default.createElement(A.Icon,{icon:"exclamation-triangle",className:N}),a.message);if(f)return n.default.createElement("div",null,n.default.createElement(A.Icon,{icon:"exclamation-triangle",className:N}),f.message);if(!r)return n.default.createElement("div",null,n.default.createElement(ee.default,{id:"Neos.Neos:Main:loading"}));let ue=r.references;return console.log({data:r}),n.default.createElement(B,{label:this.props.label,subtitle:this.props.options.subtitle,showHeader:this.props.options.showHeader},n.default.createElement("ul",{className:Q},ue.map((me,ge)=>n.default.createElement(Y,{key:ge,entry:me}))))}};y(b,"propTypes",{focusedNodeContextPath:i.default.string,getNodeByContextPath:i.default.func.isRequired,label:i.default.string,showHeader:i.default.bool,options:i.default.shape({arguments:i.default.object,dataSource:i.default.string,dataSourceUri:i.default.string,subtitle:i.default.string,showHeader:i.default.bool}).isRequired,dataSourcesDataLoader:i.default.shape({resolveValue:i.default.func.isRequired}).isRequired});De=(0,Z.neos)(e=>({dataSourcesDataLoader:e.get("dataLoaders").get("DataSources")})),te=(0,X.connect)(e=>({focusedNodeContextPath:S.selectors.CR.Nodes.focusedNodePathSelector(e),getNodeByContextPath:S.selectors.CR.Nodes.nodeByContextPath(e)}))(De(b))});var oe=s(()=>{});var se=s(()=>{oe()});var ae=s(()=>{});var ie=s(()=>{});var I=s(()=>{ae();ie()});var ce=s(()=>{I()});var le=s(()=>{I();ce()});var de,fe=s(()=>{se();d();le();de=o("manifest")});var Oe={};var pe=s(()=>{re();fe();de("Shel.ReferenceList:ReferenceListView",{},e=>{e.get("inspector").get("views").set("Shel.ReferenceList/Inspector/Views/ReferenceListView",{component:te})})});pe();})();
