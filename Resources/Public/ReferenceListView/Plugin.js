(()=>{var _e=Object.create;var g=Object.defineProperty;var be=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var xe=Object.getPrototypeOf,Ne=Object.prototype.hasOwnProperty;var we=(e,t,r)=>t in e?g(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var o=(e,t)=>()=>(e&&(t=e(e=0)),t);var u=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var S=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let d of ye(t))!Ne.call(e,d)&&d!==r&&g(e,d,{get:()=>t[d],enumerable:!(a=be(t,d))||a.enumerable});return e};var n=(e,t,r)=>(r=e!=null?_e(xe(e)):{},S(t||!e||!e.__esModule?g(r,"default",{value:e,enumerable:!0}):r,e)),ve=e=>S(g({},"__esModule",{value:!0}),e);var y=(e,t,r)=>we(e,typeof t!="symbol"?t+"":t,r);function s(e){return(...t)=>{if(window["@Neos:HostPluginAPI"]&&window["@Neos:HostPluginAPI"][`@${e}`])return window["@Neos:HostPluginAPI"][`@${e}`](...t);throw new Error("You are trying to read from a consumer api that hasn't been initialized yet!")}}var p=o(()=>{});var h=u((Ve,W)=>{p();W.exports=s("vendor")().React});var L=u((Qe,I)=>{p();I.exports=s("vendor")().reactRedux});var A=u((Ue,R)=>{p();R.exports=s("vendor")().PropTypes});var D=u((Be,K)=>{p();K.exports=s("NeosProjectPackages")().NeosUiDecorators});var j=u((Ge,O)=>{p();O.exports=s("NeosProjectPackages")().NeosUiReduxStore});var x=u((qe,F)=>{p();F.exports=s("NeosProjectPackages")().NeosUiI18n});var N=u((ze,Y)=>{p();Y.exports=s("NeosProjectPackages")().ReactUiComponents});var E=o(()=>{});var Pe,Ce,Se,We,Ie,m,V=o(()=>{E();Pe="Widget-module__body_hN14Ya__",Ce="Widget-module__header_hN14Ya__",Se="Widget-module__label_hN14Ya__",We="Widget-module__subtitle_hN14Ya__",Ie="Widget-module__widget_hN14Ya__",m={body:Pe,header:Ce,label:Se,subtitle:We,widget:Ie}});var f,H,Le,Q,k=o(()=>{f=n(h()),H=n(x());V();Le=({label:e,subtitle:t,children:r,showHeader:a})=>f.default.createElement("div",{className:m.widget},a&&f.default.createElement("div",{className:m.header},f.default.createElement("div",{className:m.label},f.default.createElement(H.default,{id:e})),t&&f.default.createElement("div",{className:m.subtitle},t)),f.default.createElement("div",{className:m.body},r)),Q=f.default.memo(Le)});var U=o(()=>{});var J,B,M=o(()=>{U();J="ReferenceListView-module__list_YycJJG__",B="ReferenceListView-module__warnIcon_YycJJG__"});var G=o(()=>{});var T,w,q,$=o(()=>{G();T="ReferenceListItem-module__breadcrumb_iKgpQW__",w="ReferenceListItem-module__icon_iKgpQW__",q="ReferenceListItem-module__item_iKgpQW__"});var l,v,Ke,z,X=o(()=>{l=n(h()),v=n(N());$();Ke=({entry:e})=>l.default.createElement("div",{className:q},l.default.createElement("span",null,e.link?l.default.createElement("a",{href:e.link,target:"_blank",rel:"noreferrer",title:e.reference},l.default.createElement(v.Icon,{className:w,icon:e.icon}),e.reference):l.default.createElement("span",null,l.default.createElement(v.Icon,{className:w,icon:e.icon}),e.reference),e.count>1?` (${e.count}x)`:""),l.default.createElement("ol",{className:T},e.breadcrumb.map((t,r)=>l.default.createElement("li",{key:r},t)))),z=l.default.memo(Ke)});var c,Z,i,ee,P,te,re,_,De,oe,se=o(()=>{c=n(h()),Z=n(L()),i=n(A()),ee=n(D()),P=n(j()),te=n(x()),re=n(N());k();M();X();_=class extends c.PureComponent{constructor(){super(...arguments);y(this,"state",{references:null,success:!1,message:null,loading:!1})}componentDidMount(){this.fetchData()}componentDidUpdate(r){r.focusedNodeContextPath!==this.props.focusedNodeContextPath&&this.fetchData()}fetchData(){let r=Object.assign({node:this.props.focusedNodeContextPath},this.props.options.arguments);this.setState({loading:!0,references:[],success:!1,message:null}),this.props.dataSourcesDataLoader.resolveValue({contextNodePath:this.props.focusedNodeContextPath,dataSourceIdentifier:this.props.options.dataSource,dataSourceUri:this.props.options.dataSourceUri,dataSourceAdditionalData:r}).then(({success:a,message:d,references:b})=>{this.setState({references:b,success:a,message:d})}).catch(({message:a})=>{this.setState({references:[],success:!1,message:a})}).finally(()=>{this.setState({loading:!1})})}render(){let{references:r,message:a,success:d,loading:b}=this.state;return b?c.default.createElement("div",null,c.default.createElement(te.default,{id:"Neos.Neos:Main:loading"})):d?r.length===0?c.default.createElement("div",null,a):c.default.createElement(Q,{label:this.props.label,subtitle:this.props.options.subtitle,showHeader:this.props.options.showHeader},c.default.createElement("ul",{className:J},r.map((ge,he)=>c.default.createElement(z,{key:he,entry:ge})))):c.default.createElement("div",null,c.default.createElement(re.Icon,{icon:"exclamation-triangle",className:B})," ",a)}};y(_,"propTypes",{focusedNodeContextPath:i.default.string,getNodeByContextPath:i.default.func.isRequired,label:i.default.string,showHeader:i.default.bool,options:i.default.shape({arguments:i.default.object,dataSource:i.default.string,dataSourceUri:i.default.string,subtitle:i.default.string,showHeader:i.default.bool}).isRequired,dataSourcesDataLoader:i.default.shape({resolveValue:i.default.func.isRequired}).isRequired});De=(0,ee.neos)(e=>({dataSourcesDataLoader:e.get("dataLoaders").get("DataSources")})),oe=(0,Z.connect)(e=>({focusedNodeContextPath:P.selectors.CR.Nodes.focusedNodePathSelector(e),getNodeByContextPath:P.selectors.CR.Nodes.nodeByContextPath(e)}))(De(_))});var ie=o(()=>{});var ae=o(()=>{ie()});var ne=o(()=>{});var ce=o(()=>{});var C=o(()=>{ne();ce()});var de=o(()=>{C()});var pe=o(()=>{C();de()});var fe,ue=o(()=>{ae();p();pe();fe=s("manifest")});var je={};var me=o(()=>{se();ue();fe("Shel.ReferenceList:ReferenceListView",{},e=>{e.get("inspector").get("views").set("Shel.ReferenceList/Inspector/Views/ReferenceListView",{component:oe})})});me();})();
