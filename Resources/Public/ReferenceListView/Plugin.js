(()=>{var ge=Object.create;var g=Object.defineProperty;var he=Object.getOwnPropertyDescriptor;var be=Object.getOwnPropertyNames;var ye=Object.getPrototypeOf,xe=Object.prototype.hasOwnProperty;var we=(e,t,r)=>t in e?g(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var s=(e,t)=>()=>(e&&(t=e(e=0)),t);var u=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var W=(e,t,r,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let d of be(t))!xe.call(e,d)&&d!==r&&g(e,d,{get:()=>t[d],enumerable:!(i=he(t,d))||i.enumerable});return e};var c=(e,t,r)=>(r=e!=null?ge(ye(e)):{},W(t||!e||!e.__esModule?g(r,"default",{value:e,enumerable:!0}):r,e)),Ne=e=>W(g({},"__esModule",{value:!0}),e);var y=(e,t,r)=>we(e,typeof t!="symbol"?t+"":t,r);function o(e){return(...t)=>{if(window["@Neos:HostPluginAPI"]&&window["@Neos:HostPluginAPI"][`@${e}`])return window["@Neos:HostPluginAPI"][`@${e}`](...t);throw new Error("You are trying to read from a consumer api that hasn't been initialized yet!")}}var f=s(()=>{});var h=u((Fe,D)=>{f();D.exports=o("vendor")().React});var _=u((Re,O)=>{f();O.exports=o("vendor")().reactRedux});var j=u((He,L)=>{f();L.exports=o("vendor")().PropTypes});var E=u((Ke,F)=>{f();F.exports=o("NeosProjectPackages")().NeosUiDecorators});var k=u((Be,R)=>{f();R.exports=o("NeosProjectPackages")().NeosUiReduxStore});var x=u((Te,H)=>{f();H.exports=o("NeosProjectPackages")().NeosUiI18n});var w=u((Qe,U)=>{f();U.exports=o("NeosProjectPackages")().ReactUiComponents});var m,K=s(()=>{m={widget:"a",header:"i",body:"n",label:"o",subtitle:"e"}});var p,V,Pe,B,M=s(()=>{p=c(h()),V=c(x());K();Pe=({label:e,subtitle:t,children:r,showHeader:i})=>p.default.createElement("div",{className:m.widget},i&&p.default.createElement("div",{className:m.header},p.default.createElement("div",{className:m.label},p.default.createElement(V.default,{id:e})),t&&p.default.createElement("div",{className:m.subtitle},t)),p.default.createElement("div",{className:m.body},r)),B=p.default.memo(Pe)});var N,Q,q=s(()=>{N="l",Q="t"});var z,P,G,$=s(()=>{z="r",P="g",G="s"});var l,C,Ae,Y,J=s(()=>{l=c(h()),C=c(w());$();Ae=({entry:e})=>l.default.createElement("div",{className:z},l.default.createElement("span",null,e.link?l.default.createElement("a",{href:e.link,target:"_blank",rel:"noreferrer",title:e.reference},l.default.createElement(C.Icon,{className:P,icon:e.icon}),e.reference):l.default.createElement("span",null,l.default.createElement(C.Icon,{className:P,icon:e.icon}),e.reference),e.count>1?` (${e.count}x)`:""),l.default.createElement("ol",{className:G},e.breadcrumb.map((t,r)=>l.default.createElement("li",{key:r},t)))),Y=l.default.memo(Ae)});var n,X,a,Z,S,ee,A,b,Ie,te,re=s(()=>{n=c(h()),X=c(_()),a=c(j()),Z=c(E()),S=c(k()),ee=c(x()),A=c(w());M();q();J();b=class extends n.PureComponent{constructor(){super(...arguments);y(this,"state",{data:null,error:!1})}componentDidMount(){this.fetchData()}componentDidUpdate(r){r.focusedNodeContextPath!==this.props.focusedNodeContextPath&&this.fetchData()}fetchData(){let r=Object.assign({node:this.props.focusedNodeContextPath},this.props.options.arguments);this.props.dataSourcesDataLoader.resolveValue({contextNodePath:this.props.focusedNodeContextPath,dataSourceIdentifier:this.props.options.dataSource,dataSourceUri:this.props.options.dataSourceUri,dataSourceAdditionalData:r}).then(i=>{i.error?this.setState({data:null,error:i.error}):i.data?this.setState({data:i.data,error:!1}):this.setState({data:null,error:new Error("Unknown datasource fetch error")})})}render(){let{data:r,error:i}=this.state;if(i)return n.default.createElement("div",null,n.default.createElement(A.Icon,{icon:"exclamation-triangle",className:N}),i.message);if(!r)return n.default.createElement("div",null,n.default.createElement(ee.default,{id:"Neos.Neos:Main:loading"}));let d=r.references,Oe=r.message;return console.log({data:r}),n.default.createElement(B,{label:this.props.label,subtitle:this.props.options.subtitle,showHeader:this.props.options.showHeader},d&&d.length>0?n.default.createElement("ul",{className:Q},d.map((ue,me)=>n.default.createElement(Y,{key:me,entry:ue}))):n.default.createElement("div",null,n.default.createElement(A.Icon,{icon:"exclamation-triangle",className:N}),i.message))}};y(b,"propTypes",{focusedNodeContextPath:a.default.string,getNodeByContextPath:a.default.func.isRequired,label:a.default.string,showHeader:a.default.bool,options:a.default.shape({arguments:a.default.object,dataSource:a.default.string,dataSourceUri:a.default.string,subtitle:a.default.string,showHeader:a.default.bool}).isRequired,dataSourcesDataLoader:a.default.shape({resolveValue:a.default.func.isRequired}).isRequired});Ie=(0,Z.neos)(e=>({dataSourcesDataLoader:e.get("dataLoaders").get("DataSources")})),te=(0,X.connect)(e=>({focusedNodeContextPath:S.selectors.CR.Nodes.focusedNodePathSelector(e),getNodeByContextPath:S.selectors.CR.Nodes.nodeByContextPath(e)}))(Ie(b))});var oe=s(()=>{});var se=s(()=>{oe()});var ie=s(()=>{});var ae=s(()=>{});var I=s(()=>{ie();ae()});var ce=s(()=>{I()});var le=s(()=>{I();ce()});var de,fe=s(()=>{se();f();le();de=o("manifest")});var De={};var pe=s(()=>{re();fe();de("Shel.ReferenceList:ReferenceListView",{},e=>{e.get("inspector").get("views").set("Shel.ReferenceList/Inspector/Views/ReferenceListView",{component:te})})});pe();})();
